# 泉金麻将计分规则 (Scoring Rules)

本文档详细说明了泉金麻将付费房间中的计分（计番）规则。

## 1. 基础胡牌番数 (Base Fan)

| 胡牌方式 (Win Type)   | 描述 (Description)                               | 番数 (Fan) |
| --------------------- | ------------------------------------------------ | ---------- |
| **闲家吃胡** (Non-Banker wins on Discard) | 闲家胡牌，点炮的闲家输 1 番，庄家输 1 番。   | 1          |
| **庄家吃胡** (Banker wins on Discard) | 庄家胡牌，点炮的闲家输 2 番。其他闲家不输。 | 2          |
| **闲家自摸** (Non-Banker Self-Drawn) | 闲家自摸，庄家输 2 番，其他闲家各输 1 番。   | 2          |
| **庄家自摸** (Banker Self-Drawn) | 庄家自摸，所有闲家各输 2 番。                   | 4          |

## 2. 额外加番项 (Bonus Fan)

在基础胡牌番数之上，根据牌型和游戏行为，可以叠加以下额外番数。

| 加番项 (Bonus Item) | 描述 (Description)                                     | 叠加番数 (Additional Fan) |
| ------------------- | ------------------------------------------------------ | ------------------------- |
| **金（万能牌）** (Golden Tile / Wild) | 手中每有一张“金”牌（无论是否用于组成面子）。       | +1 番 / 每张              |
| **游金** (Golden Roaming)           | 在自摸状态下，用“金”牌打出，胡最后一张牌。       | 在自摸基础上**翻倍** (x2) |
| **明杠** (Exposed Kong)             | 每有一组明杠（碰牌后摸到第四张，或手中有三张一样的，杠别人的牌）。 | +1 番 / 每组              |
| **暗杠** (Concealed Kong)           | 每有一组暗杠（手中有四张一样的牌，自己杠出）。     | +2 番 / 每组              |

## 3. 结算公式 (Calculation)

1.  **计算总番数 (Calculate Total Fan)**：
    `总番数 = 基础胡牌番数 + (金的数量 × 1) + (明杠数量 × 1) + (暗杠数量 × 2)`

2.  **处理游金翻倍 (Apply Golden Roaming Multiplier)**：
    如果满足“游金”条件，则：
    `最终番数 = 总番数 × 2`
    否则，`最终番数 = 总番数`。

3.  **计算筹码输赢 (Calculate Chip Payout)**：
    *   **吃胡**：点炮玩家支付全部 `最终番数` 的筹码给赢家。如果闲家胡牌，庄家也需支付对应的基础番数。
    *   **自摸**：桌上其他所有玩家根据规则，各自支付 `最终番数` 的筹码给赢家。

**示例：**
闲家A自摸胡牌，手中有1张金，1组暗杠。
-   基础番数 (闲家自摸) = 2 番
-   金 = 1 番
-   暗杠 = 2 番
-   总番数 = 2 + 1 + 2 = 5 番
-   最终番数 = 5 番
-   **结算**: 庄家输 5 筹码，另外两个闲家各输 5 筹码。闲家A总共赢 15 筹码。

---
**注意**：所有番数结算均在玩家之间进行，与奖池（Pot）和台费（Table Fee）的分配是独立计算的。
